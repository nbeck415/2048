(window.webpackJsonp2048=window.webpackJsonp2048||[]).push([[0],{11:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),o=n.n(a),c=n(4),u=n.n(c),i="up",l="down",s="left",f="right",m=n(5),v=(n(3),function(e){return o.a.createElement("button",{className:"tile"},e.value)}),d=function e(t){e.defaultProps={keyPressed:i};var n=Object(a.useContext)(P),r=n.gameOver,c=n.setGameOver,u=Object(a.useContext)(G),l=u.tiles,s=u.setTiles,f=t.keyPressed;Object(a.useEffect)(function(){!function(){var e=f.direction;if(null!=e){var t=x(l,e);s(t),E(l)&&c(!0)}}()},[f]);var m=function(e,t){return o.a.createElement(v,{value:l[e][t]})},d=function(e){return o.a.createElement("div",{className:"board-row"},m(e,0),m(e,1),m(e,2),m(e,3))};return o.a.createElement("div",null,r?o.a.createElement("div",null,o.a.createElement("p",null,"Whoo!")):o.a.createElement("div",null,d(0),d(1),d(2),d(3)))},E=function(e){for(var t=0;t<4;t++)for(var n=0;n<4;n++)if(16===e[t][n])return!0;return!1},b=function(e,t,n,r,a){var o=e[t][n],c=e[r][a];e[t][n]=o+c,e[r][a]=0},h=function(e,t){for(var n=0;n<3;n++)if(0===e[n][t]){for(var r=n+1;r<3&&0===e[r][t];)r+=1;b(e,n,t,r,t)}return e},k=function(e,t){for(var n=0;n<3;n++)if(0===e[t][n]){for(var r=n+1;r<3&&0===e[t][r];)r+=1;b(e,t,n,t,r)}return e},w=function(e,t){for(var n=3;n>0;n--)if(0===e[n][t]){for(var r=n-1;r>0&&0===e[r][t];)r-=1;b(e,n,t,r,t)}return e},O=function(e,t){for(var n=3;n>0;n--)if(0===e[t][n]){for(var r=n-1;r>0&&0===e[t][r];)r-=1;b(e,t,n,t,r)}return e},p=function(e,t){for(var n=0;n<4;n++)switch(t){case i:h(e,n);break;case l:w(e,n);break;case s:k(e,n);break;case f:O(e,n);break;default:console.log("not a direction")}},j=function(e,t){switch(t){case i:!function(e){for(var t=0;t<3;t++)for(var n=0;n<4;n++){var r=t+1;e[t][n]===e[r][n]&&b(e,t,n,r,n)}}(e);break;case l:!function(e){for(var t=3;t>0;t--)for(var n=0;n<4;n++){var r=t-1;e[t][n]===e[r][n]&&b(e,t,n,r,n)}}(e);break;case s:!function(e){for(var t=0;t<4;t++)for(var n=0;n<3;n++){var r=n+1;e[t][n]===e[t][r]&&b(e,t,n,t,r)}}(e);break;case f:!function(e){for(var t=0;t<4;t++)for(var n=3;n>0;n--){var r=n-1;e[t][n]===e[t][r]&&b(e,t,n,t,r)}}(e);break;default:console.log("not a direction")}},g=function(){return Math.floor(4*Math.random())},x=function(e,t){var n=Object(m.a)(e);return function(e,t){p(e,t),j(e,t),p(e,t)}(n,t),function e(t){var n=g(),r=g();0===t[n][r]?t[n][r]=2:e(t)}(n),n},y=function(e){var t=Object(a.useContext)(T).setGameTime,n=Object(a.useState)(!1),c=Object(r.a)(n,2),u=c[0],i=c[1],l=Object(a.useState)({hours:0,minutes:0,seconds:0}),s=Object(r.a)(l,2),f=s[0],m=s[1],v=function(){if(!u){var e=f.hours,t=f.minutes,n=f.seconds+1;60===n&&(m({hours:f.hours,minutes:f.minutes+1,seconds:0}),n=0,t+=1),60===t&&(t=0,e+=1),m({hours:e,minutes:t,seconds:n})}},d=function(e){return e.toString().padStart(2,"0")};return Object(a.useEffect)(function(){var e=setInterval(v,1e3);return function(){clearInterval(e)}},[f]),o.a.createElement("div",null,o.a.createElement("p",null,"Time: ",function(){var e=d(f.hours),n=d(f.minutes),r=d(f.seconds),a="".concat(e,": ").concat(n,": ").concat(r);return t(a),a}()),o.a.createElement("button",{onClick:function(){return i(!u)}},u?"Resume":"Pause"))},S=function(e){return o.a.createElement("form",{method:"POST",action:"/"},o.a.createElement("input",{type:"text",name:"name",placeholder:"Enter name"}),o.a.createElement("input",{type:"text",name:"scoreValue",value:e.score}),o.a.createElement("input",{type:"submit",value:"Submit"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.d(t,"GameContext",function(){return P}),n.d(t,"TimeContext",function(){return T}),n.d(t,"BoardContext",function(){return G});var C=function(){var e=Object(a.useState)({direction:null}),t=Object(r.a)(e,2),n=t[0],o=t[1],c=function(e){var t=null;switch(e.key){case"k":t=i;break;case"j":t=l;break;case"h":t=s;break;case"l":t=f;break;default:t=null}o({direction:t})};return Object(a.useEffect)(function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}},[]),n},P=o.a.createContext(),T=o.a.createContext(),G=o.a.createContext();u.a.render(o.a.createElement(function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1],u=Object(a.useState)("00:00:00"),i=Object(r.a)(u,2),l=i[0],s=i[1],f=Object(a.useState)([[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]]),m=Object(r.a)(f,2),v=m[0],E=m[1],b=null,h=window.token,k=function(){return n?(b=l,o.a.createElement("div",null,o.a.createElement("p",null," You won! Your time is ",b," "),o.a.createElement(S,{score:b}))):o.a.createElement(T.Provider,{value:{setGameTime:s}},o.a.createElement(y,null))};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,k()),o.a.createElement("div",{className:"game"},o.a.createElement(P.Provider,{value:{gameOver:n,setGameOver:c}},o.a.createElement(G.Provider,{value:{tiles:v,setTiles:E}},o.a.createElement(d,{keyPressed:C()})),k),o.a.createElement("h2",null,"High Scores"),o.a.createElement("div",null,h.map(function(e){return o.a.createElement("div",{key:e.id},o.a.createElement("p",null,e.name,": ",e.scoreValue," "))}))),o.a.createElement("div",null,o.a.createElement("h3",null,"Directions"),o.a.createElement("p",null,"h: left, k: up, j: down, l: right ")))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},3:function(e,t,n){},6:function(e,t,n){e.exports=n(11)}},[[6,1,2]]]);
//# sourceMappingURL=main.0d67556b.chunk.js.map